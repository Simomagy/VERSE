@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* shadcn/ui token mapping → HUD palette */
    --background: 211 15% 15%; /* hud-deep #111111 */
    --foreground: 220 50% 88%; /* hud-text #c8d8f0 */
    --card: 218 43% 9%; /* hud-panel #151515 */
    --card-foreground: 220 50% 88%;
    --popover: 218 43% 9%;
    --popover-foreground: 220 50% 88%;
    --primary: 191 100% 50%; /* hud-cyan #00e5ff */
    --primary-foreground: 218 57% 5%;
    --secondary: 218 43% 11%; /* hud-card #0f1a26 */
    --secondary-foreground: 220 50% 88%;
    --muted: 218 43% 11%;
    --muted-foreground: 213 27% 39%; /* hud-muted #4a6080 */
    --accent: 36 85% 51%; /* hud-amber #e8a020 */
    --accent-foreground: 218 57% 5%;
    --destructive: 0 100% 61%; /* hud-red #ff3c3c */
    --destructive-foreground: 220 50% 88%;
    --border: 215 44% 18%; /* hud-border #1a2d42 */
    --input: 215 44% 18%;
    --ring: 191 100% 50%;
    --radius: 0rem; /* nessun arrotondamento di default */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html,
  body,
  #root {
    height: 100%;
    width: 100%;
    overflow: hidden;
  }

  body {
    background-color: #111111;
    color: #c8d8f0;
    font-feature-settings:
      'rlig' 1,
      'calt' 1;
  }

  /* Selezione testo */
  ::selection {
    background-color: rgba(0, 229, 255, 0.2);
    color: #00e5ff;
  }
}

/* ── HUD UTILITIES ─────────────────────────────────────────────────── */
@layer utilities {
  /* Pannello HUD con angolo tagliato in basso a destra */
  .hud-panel {
    background-color: #151515;
    border: 1px solid #383838;
    clip-path: polygon(0 0, 100% 0, 100% calc(100% - 12px), calc(100% - 12px) 100%, 0 100%);
    position: relative;
  }

  /* Angolo tagliato più grande per card principali */
  .hud-panel-lg {
    background-color: #151515;
    border: 1px solid #383838;
    clip-path: polygon(0 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%);
    position: relative;
  }

  /* Bordo neon attivo */
  .hud-panel-active {
    border-color: #616161;
    box-shadow:
      0 0 0 1px rgba(0, 229, 255, 0.1),
      inset 0 0 20px rgba(0, 229, 255, 0.04);
  }

  /* Corner brackets decorativi (top-left, bottom-right visibili) */
  .hud-corners {
    position: relative;
  }

  .hud-corners::before,
  .hud-corners::after {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
  }

  .hud-corners::before {
    top: -1px;
    left: -1px;
    border-top: 1px solid #00e5ff;
    border-left: 1px solid #00e5ff;
  }

  .hud-corners::after {
    bottom: -1px;
    right: -1px;
    border-bottom: 1px solid #00e5ff;
    border-right: 1px solid #00e5ff;
  }

  /* Label stile HUD: uppercase, monospace, spaziata */
  .hud-label {
    font-family: 'JetBrains Mono', 'Consolas', monospace;
    font-size: 0.65rem;
    font-weight: 500;
    letter-spacing: 0.12em;
    /* text-transform: uppercase; */
    color: #a6a6a6;
  }

  /* Label HUD accesa (accent cyan) */
  .hud-label-active {
    color: #00e5ff;
  }

  /* Glow effetti */
  .hud-glow-cyan {
    box-shadow:
      0 0 8px rgba(0, 229, 255, 0.4),
      0 0 20px rgba(0, 229, 255, 0.15);
  }

  .hud-glow-amber {
    box-shadow:
      0 0 8px rgba(232, 160, 32, 0.4),
      0 0 20px rgba(232, 160, 32, 0.15);
  }

  .hud-glow-green {
    box-shadow:
      0 0 8px rgba(0, 232, 122, 0.4),
      0 0 20px rgba(0, 232, 122, 0.15);
  }

  .hud-glow-red {
    box-shadow:
      0 0 8px rgba(255, 60, 60, 0.4),
      0 0 20px rgba(255, 60, 60, 0.15);
  }

  /* Testo neon */
  .hud-text-cyan {
    color: #00e5ff;
    text-shadow: 0 0 8px rgba(0, 229, 255, 0.6);
  }

  .hud-text-amber {
    color: #e8a020;
    text-shadow: 0 0 8px rgba(232, 160, 32, 0.5);
  }

  .hud-text-green {
    color: #00e87a;
    text-shadow: 0 0 8px rgba(0, 232, 122, 0.5);
  }

  .hud-text-red {
    color: #ff3c3c;
    text-shadow: 0 0 8px rgba(255, 60, 60, 0.5);
  }

  /* Punto di stato pulsante */
  .status-pulse {
    position: relative;
    display: inline-flex;
    width: 7px;
    height: 7px;
    border-radius: 50%;
  }

  .status-pulse::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: inherit;
    animation: hud-ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  .status-pulse-cyan {
    background-color: #00e5ff;
  }
  .status-pulse-green {
    background-color: #00e87a;
  }
  .status-pulse-amber {
    background-color: #e8a020;
  }
  .status-pulse-red {
    background-color: #ff3c3c;
  }

  /* Divisore HUD orizzontale */
  .hud-divider {
    border: none;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      #1a2d42 20%,
      #0d4f6b 50%,
      #1a2d42 80%,
      transparent
    );
  }

  /* Riga di dati HUD (table row) */
  .hud-row {
    border-bottom: 1px solid #1a2d42;
    transition:
      background-color 0.1s,
      border-color 0.1s;
  }

  .hud-row:hover {
    background-color: rgba(13, 79, 107, 0.15);
    border-bottom-color: #0d4f6b;
  }

  /* Scanline overlay sottile su pannelli */
  .hud-scanline {
    position: relative;
    overflow: hidden;
  }

  .hud-scanline::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      to bottom,
      transparent,
      transparent 2px,
      rgba(0, 229, 255, 0.015) 2px,
      rgba(0, 229, 255, 0.015) 4px
    );
    pointer-events: none;
    z-index: 0;
  }

  /* Scrollbar personalizzata HUD */
  .scrollbar-hud::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  .scrollbar-hud::-webkit-scrollbar-track {
    background: #111111;
  }

  .scrollbar-hud::-webkit-scrollbar-thumb {
    background: #424242;
  }

  .scrollbar-hud::-webkit-scrollbar-thumb:hover {
    background: #c4c4c4;
  }

  /* Backward compatibility alias */
  .scrollbar-thin::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }
  .scrollbar-thin::-webkit-scrollbar-track {
    background: #111111;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #424242;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: #c4c4c4;
  }

  /* Frameless window */
  .drag-region {
    -webkit-app-region: drag;
  }
  .no-drag-region {
    -webkit-app-region: no-drag;
  }

  /* Indicatori barra laterale per sezione */
  .hud-nav-indicator {
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 2px;
    height: 24px;
    background: var(--nav-accent, #00e5ff);
    box-shadow:
      0 0 8px var(--nav-accent, #00e5ff),
      0 0 16px color-mix(in srgb, var(--nav-accent, #00e5ff) 40%, transparent);
  }

  /* Bordi panel colorati per sezione */
  .hud-panel-market {
    border-color: rgba(0, 229, 255, 0.3);
  }
  .hud-panel-fleet {
    border-color: rgba(64, 128, 255, 0.3);
  }
  .hud-panel-trades {
    border-color: rgba(232, 160, 32, 0.3);
  }
  .hud-panel-stats {
    border-color: rgba(0, 232, 122, 0.3);
  }
  .hud-panel-config {
    border-color: rgba(160, 96, 255, 0.3);
  }

  /* Gradient section header */
  .hud-section-fleet {
    background: linear-gradient(90deg, rgba(64, 128, 255, 0.08) 0%, transparent 60%);
  }
  .hud-section-trades {
    background: linear-gradient(90deg, rgba(232, 160, 32, 0.08) 0%, transparent 60%);
  }
  .hud-section-refinery {
    background: linear-gradient(90deg, rgba(160, 96, 255, 0.08) 0%, transparent 60%);
  }
  .hud-section-wallet {
    background: linear-gradient(90deg, rgba(0, 232, 122, 0.08) 0%, transparent 60%);
  }
  .hud-section-config {
    background: linear-gradient(90deg, rgba(128, 128, 128, 0.08) 0%, transparent 60%);
  }

  /* Input numero senza frecce */
  input[type='number']::-webkit-inner-spin-button,
  input[type='number']::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  /* ── HUD Range Slider ──────────────────────────────────────────────── */
  .hud-slider {
    -webkit-appearance: none;
    appearance: none;
    height: 2px;
    outline: none;
    cursor: pointer;
    border-radius: 0;
    background: linear-gradient(
      to right,
      var(--slider-accent, #00e5ff) var(--slider-pct, 0%),
      #1a2d42 var(--slider-pct, 0%)
    );
  }

  .hud-slider::-webkit-slider-runnable-track {
    height: 2px;
    border-radius: 0;
  }

  .hud-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 10px;
    height: 10px;
    border-radius: 0;
    background: var(--slider-accent, #00e5ff);
    border: none;
    box-shadow: 0 0 8px var(--slider-accent, #00e5ff);
    cursor: pointer;
    margin-top: -4px;
  }

  .hud-slider:focus::-webkit-slider-thumb {
    outline: 1px solid var(--slider-accent, #00e5ff);
    outline-offset: 2px;
  }

  .hud-slider:disabled {
    opacity: 0.3;
    cursor: default;
  }
}
